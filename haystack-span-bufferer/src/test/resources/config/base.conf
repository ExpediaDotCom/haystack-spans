span.buffer {
  store {
    initial.size = 1000
    all.max.entries = 20000
  }
  window.ms = 1000
  poll.ms = 1000
  logging.enabled = false
  streams.close.timeout.ms = 300
}

# test 
kafka {
  changelog {
    enabled = true
    logConfig {
      retention.bytes = 104857600 // 100 MB
      retention.ms = 86400 // 1 day log retention
    }
  }

  streams {
    application.id = "haystack-span-bufferer"
    bootstrap.servers = "kafka-svc:9092"
    num.stream.threads = 4
    auto.offset.reset = latest
  }

  producer {
    topic = "span-buffer"
  }

  consumer {
    topic = "spans"
  }
}