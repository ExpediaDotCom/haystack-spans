<jmxtrans-agent>
    <queries>
        <query objectName="metrics:name=elasticsearch.read.time" attributes="99thPercentile,50thPercentile,OneMinuteRate" resultAlias="elasticsearch.read.time.#attribute#"/>
        <query objectName="metrics:name=elasticsearch.read.failures" attributes="OneMinuteRate" resultAlias="elasticsearch.read.failures.#attribute#"/>
        <query objectName="metrics:name=cassandra.read.time" attributes="99thPercentile,50thPercentile,OneMinuteRate" resultAlias="cassandra.read.time.#attribute#"/>
        <query objectName="metrics:name=cassandra.read.failures" attributes="OneMinuteRate" resultAlias="cassandra.read.failures.#attribute#"/>
        <query objectName="metrics:name=search.trace.rejected" attributes="OneMinuteRate" resultAlias="search.trace.rejected.#attribute#"/>
    </queries>
    <outputWriter class="org.jmxtrans.agent.GraphitePlainTextTcpOutputWriter">
        <host>${graphite.host:monitoring-influxdb-graphite.kube-system.svc}</host>
        <port>${graphite.port:2003}</port>
        <namePrefix>haystack.traces.reader.#hostname#.</namePrefix>
    </outputWriter>
    <collectIntervalInSeconds>30</collectIntervalInSeconds>
</jmxtrans-agent>
